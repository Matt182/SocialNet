<!doctype html>
<html>
<head>
<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<title>Untitled Document</title>
</head>

<body>

  <canvas id="canvas"></canvas>
  <input type='file' id="inputFile" />


<script>
function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    reader.onload = function (e) {
      //$('#image_upload_preview').attr('src', e.target.result);

      var cat = new Image();
      cat.src = e.target.result;
      var canvas = document.getElementById("canvas");
      cat.onload = function() {
        canvas.width = 300;
        canvas.height = this.height;
        var context = canvas.getContext("2d");
        context.drawImage(cat, 0, 0, 300, 300);
        }
    }
    reader.readAsDataURL(input.files[0]);
    }
  }

  $("#inputFile").change(function () {
      readURL(this);
  });
</script>
</body>
</html>
